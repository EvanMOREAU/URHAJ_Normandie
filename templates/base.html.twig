<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}URHAJ Normandie{% endblock %}</title>
    <link rel='icon' href='img/icone.ico'>
    
    {% block stylesheets %}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
        <link rel="stylesheet" href="/css/basetwig-evan-nav.css">


        <style>
            #slideshow {
            width: 100%;
            height: 100vh;
            background-image: url('/img/bg/6.jpg'); /* Image de départ */
            background-size: cover;
            background-position: left center;
            animation: slide 10s infinite;
            transition: background-position 1s ease-in-out; /* Ajout de la transition */
            }

            @keyframes slide {
            0% { background-position: left center; } /* Position initiale à gauche */
            100% { background-position: right center; } /* Position finale à droite */
            }
        </style>
        {{ encore_entry_link_tags('app') }}
    {% endblock %}
    
    {% block javascripts %}
        {{ encore_entry_script_tags('app') }}
        <!-- JavaScript de Boostrap -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
        <script src="/js/evan.js"></script>
    {% endblock %}
</head>
    {% block body %}
    <body bgcolor="grey">
        
            <div id="slideshow">
                <style>
                    nav {
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    }

                    .nav-menu:before,
                    .nav-menu:after {
                        content: " ";
                        display: table;
                    }

                    .nav-menu:after {
                        clear: both;
                    }

                    .nav-menu {
                        zoom: 1;
                    }

                    nav {
                        padding: 50px;
                        position: fixed;
                        top: -10px; /* Ajout de cette ligne */
                        left: 0;
                        width: 100%;
                        z-index: 999;
                    }

                    .menu,
                    .submenu {
                        margin: 0;
                        padding: 0;
                        list-style: none;
                    }

                    .menu {
                        margin: 50px auto;
                        width: 800px;
                        width: -moz-fit-content;
                        width: -webkit-fit-content;
                        width: fit-content;
                    }

                    .menu > li {
                        background: #000;
                        float: left;
                        position: relative;
                        transform: skewX(25deg);
                    }

                    .menu a {
                        display: block;
                        color: #fff;
                        text-transform: uppercase;
                        text-decoration: none;
                        font-family: Arial, Helvetica;
                        font-size: 14px;
                    }

                    .menu li:hover {
                        background: #e74c3c;
                    }

                    .menu .right-aligned {
                        float: right;
                    }

                    .menu > li > a {
                        transform: skewX(-25deg);
                        padding: 1em 2em;
                    }

                    /* Dropdown */

                    .menu-item {
                        position: absolute;
                        width: 200px;
                        left: 50%;
                        margin-left: -100px;
                        transform: skewX(-25deg);
                        transform-origin: left top;
                    }

                    .menu-item li {
                        background-color: #34495e;
                        position: relative;
                        overflow: hidden;
                    }

                    .menu-item > li > a {
                        padding: 1em 2em;
                    }

                    .menu-item > li::after {
                        content: '';
                        position: absolute;
                        top: -125%;
                        height: 100%;
                        width: 100%;
                        box-shadow: 0 0 50px rgba(0, 0, 0, .9);
                    }

                    .menu-item > li:nth-child(odd) {
                        transform: skewX(-25deg) translateX(0);
                    }

                    .menu-item > li:nth-child(odd) > a {
                        transform: skewX(25deg);
                    }

                    .menu-item > li:nth-child(odd)::after {
                        right: -50%;
                        transform: skewX(-25deg) rotate(3deg);
                    }

                    .menu-item > li:nth-child(even) {
                        transform: skewX(25deg) translateX(0);
                    }

                    .menu-item > li:nth-child(even) > a {
                        transform: skewX(-25deg);
                    }

                    .menu-item > li:nth-child(even)::after {
                        right: -50%;
                        transform: skewX(25deg) rotate(3deg);
                    }

                    /* show dropdown*/

                    .menu-item,
                    .menu-item li {
                        opacity: 0;
                        visibility: hidden;
                    }

                    .menu-item li {
                        transition: .2s ease transform;
                    }

                    .menu > li:hover .menu-item,
                    .menu > li:hover .menu-item li {
                        opacity: 1;
                        visibility: visible;
                    }

                    .menu > li:hover .menu-item li:nth-child(even) {
                        transform: skewX(25deg) translateX(15px);
                    }

                    .menu > li:hover .menu-item li:nth-child(odd) {
                        transform: skewX(-25deg) translateX(-15px);
                    }

                    .align-right {
                        float: right;
                    }

                    .separated-buttons {
                        margin-top: 20px;
                    }
                </style>

            <nav class='navbar fixed-top'>
                <ul class="menu nav-menu">
                    <li><a href="/">Accueil</a></li>
                    <li><a href="#">URHAJ</a></li>
                    <li><a href="#">Notre Méthodologie</a></li>
                    <li>
                        <a href="#">Nos actions</a>
                        <ul class="menu-item">
                        {% for page in pages %}
                            <li><a href="/page/{{ page.id }}">{{ page.title }}</a></li>
                        {% endfor %}
                        </ul>
                    </li>
                    <li><a href="#">Nous contacter</a></li>
                    
                </ul>
                {% if app.user %}
                    <ul class="menu nav-menu align-right">
                        {% if is_granted('ROLE_ADMIN') %}
                            <li>
                                <a href="#">Administration</a>
                                <ul class="menu-item">
                                    <li><a href="/page">Liste des pages</a></li>
                                    <li><a href="/page/new">Nouvelle page</a></li>
                                    <li><a href="/user">Liste utilisateurs</a></li>
                                    <li><a href="/user/new">Nouvel utilisateur</a></li>
                                </ul>
                            </li>
                        {% endif %}
                        <li><a href="/account">Profil</a></li>
                        <li><a href="/logout" class="">Déconnexion</a></li>
                    </ul>
                {% endif %}
            </nav>
            <br><br>
        </div>
    </body>
    {% endblock %}
</html>
