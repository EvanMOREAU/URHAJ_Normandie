{% extends 'base.html.twig' %}

{% block title %}Structure index{% endblock %}

{% block body %}
    <link rel="stylesheet" href="/css/index-bdd.css">
    <link rel="stylesheet" href="/css/add-admin.css">
    <br><br><br><br><br><br><br>
    <div align='center'>
        <button type="button" class="buttonadd" onclick="window.location.href = '{{ path('app_structure_new') }}';">
            <span class="buttonadd__text">Structures</span>
            <span class="buttonadd__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" height="24" fill="none" class="svg"><line y2="19" y1="5" x2="12" x1="12"></line><line y2="12" y1="12" x2="19" x1="5"></line></svg></span>
        </button>
    </div>
    <br>
    <div class="grid-container">
        {% for structure in structures %}
            <div class="containerp">
                <div class="cardp">
                    <p class="titlep">{{ structure.Nom }}</p>
                    <div class="cardp-hidden">
                        <p class="titlep-in">{{ structure.Nom }}</p>
                        <p>ID de la structure : {{ structure.id }}<br>
                        Département : {% if structure.getDepartement() is not null %}{{ structure.getDepartement().name }}{% endif %}<br>
                        Ville : {{ structure.ville }}<br>
                        Tel : {{ structure.numeroTel }}</p>
                        {# <a class="buttonp" data-bs-toggle="offcanvas" href="#offcanvas{{ structure.Nom }}" role="button" aria-controls="offcanvas{{ structure.Nom }}">Gestion</a> #}
                        <a class="buttonp" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#{{ structure.id }}Modal">Gestion</a>
                    </div>
                </div> 
                <div class="cardp-border"></div>
            </div>
            <div class="modal fade" id="{{ structure.id }}Modal" tabindex="-1" aria-labelledby="{{ structure.id }}ModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content bg-dark text-white">
                    <div class="modal-header bg-dark text-white">
                        <h1 class="modal-title fs-5" id="{{ structure.id }}ModalLabel">{{ structure.id }}</h1>
                        <button type="button" class="btn-close bg-white" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" align='center'>
                        Ici vous pouvez gérer les différentes actions liées à la page que vous venez de sélectionner. Attention, tout changement est irréversible.

                    </div>
                    <div class="modal-footer" align="center">
                        <a  class="buttonaction" href="{{ path('app_structure_show', {'id': structure.id}) }}">Afficher</a>
                        <a  class="buttonaction" href="{{ path('app_structure_edit', {'id': structure.id}) }}">Modifier</a>
                    </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    {#
    <h1>Structure index</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Departement</th>
                <th>Ville</th>
                <th>NumeroTel</th>
                <th>Animateur</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for structure in structures %}
            <tr>
                <td>{{ structure.id }}</td>
                <td>{{ structure.Nom }}</td>
                <td>{{ structure.departement }}</td>
                <td>{{ structure.ville }}</td>
                <td>{{ structure.numeroTel }}</td>
                <td>{{ structure.animateur }}</td>
                <td>
                    <a href="{{ path('app_structure_show', {'id': structure.id}) }}">show</a>
                    <a href="{{ path('app_structure_edit', {'id': structure.id}) }}">edit</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_structure_new') }}">Create new</a>#}
{% endblock %}
